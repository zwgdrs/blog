{
  "version": 3,
  "sources": [
    "webpack:///js/0.bundle.36438a006b0cc81eed7f.js",
    "webpack:///./src/js/containers/Details.js",
    "webpack:///./src/css/details.less",
    "webpack:///./src/css/details.less?f845"
  ],
  "names": [
    "webpackJsonp",
    "190",
    "module",
    "exports",
    "__webpack_require__",
    "_interopRequireWildcard",
    "obj",
    "__esModule",
    "newObj",
    "key",
    "Object",
    "prototype",
    "hasOwnProperty",
    "call",
    "default",
    "_interopRequireDefault",
    "_classCallCheck",
    "instance",
    "Constructor",
    "TypeError",
    "_possibleConstructorReturn",
    "self",
    "ReferenceError",
    "_inherits",
    "subClass",
    "superClass",
    "create",
    "constructor",
    "value",
    "enumerable",
    "writable",
    "configurable",
    "setPrototypeOf",
    "__proto__",
    "defineProperty",
    "DetailsComponent",
    "undefined",
    "_createClass",
    "defineProperties",
    "target",
    "props",
    "i",
    "length",
    "descriptor",
    "protoProps",
    "staticProps",
    "_react",
    "_react2",
    "_reactRedux",
    "_redux",
    "_index",
    "actions",
    "_markdown",
    "MessageItem",
    "_ref",
    "data",
    "createElement",
    "className",
    "name",
    "message",
    "time",
    "_Component",
    "this",
    "_this",
    "getPrototypeOf",
    "nameVlue",
    "window",
    "localStorage",
    "JSON",
    "parse",
    "emailValue",
    "email",
    "ajaxData",
    "params",
    "_alert",
    "trim",
    "messageVlue",
    "json",
    "stringify",
    "commentsSubmit",
    "_this2",
    "details",
    "img",
    "upload",
    "requestAPI",
    "messageItemTmp",
    "comments",
    "len",
    "push",
    "title",
    "pv",
    "minute",
    "dangerouslySetInnerHTML",
    "__html",
    "content",
    "markdown",
    "toHTML",
    "id",
    "cols",
    "rows",
    "placeholder",
    "ref",
    "el",
    "onClick",
    "Component",
    "mapStateToProps",
    "state",
    "container",
    "mapDispatchToProps",
    "dispatch",
    "bindActionCreators",
    "Details",
    "connect",
    "196",
    "207",
    "locals"
  ],
  "mappings": "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",
  "file": "js/0.bundle.36438a006b0cc81eed7f.js",
  "sourcesContent": [
    "webpackJsonp([0],{\n\n/***/ 190:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.DetailsComponent = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(7);\n\t\n\tvar _reactRedux = __webpack_require__(12);\n\t\n\tvar _redux = __webpack_require__(9);\n\t\n\tvar _index = __webpack_require__(13);\n\t\n\tvar actions = _interopRequireWildcard(_index);\n\t\n\tvar _markdown = __webpack_require__(58);\n\t\n\t__webpack_require__(207);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar MessageItem = function MessageItem(_ref) {\n\t    var data = _ref.data;\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'messageItem' },\n\t        _react2.default.createElement(\n\t            'div',\n\t            { className: 'messageAuthor' },\n\t            _react2.default.createElement(\n\t                'span',\n\t                { className: 'author' },\n\t                data.name,\n\t                '\\uFF1A\\u8BF4'\n\t            )\n\t        ),\n\t        _react2.default.createElement(\n\t            'div',\n\t            { className: 'messageContent' },\n\t            data.message\n\t        ),\n\t        _react2.default.createElement(\n\t            'div',\n\t            { className: 'messageTime' },\n\t            _react2.default.createElement(\n\t                'span',\n\t                null,\n\t                data.time\n\t            )\n\t        )\n\t    );\n\t};\n\t\n\tvar DetailsComponent = exports.DetailsComponent = function (_Component) {\n\t    _inherits(DetailsComponent, _Component);\n\t\n\t    function DetailsComponent(props) {\n\t        _classCallCheck(this, DetailsComponent);\n\t\n\t        var _this = _possibleConstructorReturn(this, (DetailsComponent.__proto__ || Object.getPrototypeOf(DetailsComponent)).call(this, props));\n\t\n\t        _this.nameVlue = window.localStorage['commentInfo'] ? JSON.parse(window.localStorage['commentInfo']).name : '';\n\t        _this.emailValue = window.localStorage['commentInfo'] ? JSON.parse(window.localStorage['commentInfo']).email : '';\n\t        return _this;\n\t    }\n\t\n\t    _createClass(DetailsComponent, [{\n\t        key: 'componentDidMount',\n\t        value: function componentDidMount() {\n\t            this.props.actions.ajaxData(\"details\", this.props.params);\n\t        }\n\t    }, {\n\t        key: 'commentsSubmit',\n\t        value: function commentsSubmit() {\n\t            var _alert = this.props.actions._alert,\n\t                nameVlue = this.name.value.trim(),\n\t                messageVlue = this.message.value.trim();\n\t            if (nameVlue.length < 2) {\n\t                _alert(\"姓名格式不正确\");\n\t                return;\n\t            }\n\t            if (messageVlue.length == 0) {\n\t                _alert(\"留言内容不能为空\");\n\t                return;\n\t            }\n\t\n\t            var data = \"name=\" + nameVlue + \"&email=\" + this.email.value + \"&message=\" + messageVlue;\n\t            var json = { \"name\": this.name.value, \"email\": this.email.value };\n\t            window.localStorage['commentInfo'] = JSON.stringify(json);\n\t            this.props.actions.commentsSubmit(data, this.props.params);\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var _this2 = this;\n\t\n\t            var data = this.props.details;\n\t            var img = data.upload ? \"<img src=\" + actions.requestAPI + data.upload + \" />\" : \"\";\n\t            var messageItemTmp = [];\n\t            if (data.comments) {\n\t                for (var len = data.comments.length, i = len - 1; i >= 0; i--) {\n\t                    messageItemTmp.push(_react2.default.createElement(MessageItem, { key: i, data: data.comments[i] }));\n\t                }\n\t            } else {\n\t                messageItemTmp = \"暂无留言\";\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'article-details' },\n\t                _react2.default.createElement(\n\t                    'h1',\n\t                    null,\n\t                    data.title\n\t                ),\n\t                _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'info' },\n\t                    '\\u4F5C\\u8005\\uFF1A',\n\t                    data.name,\n\t                    '\\xA0\\xA0\\xA0\\xA0\\u9605\\u8BFB\\u91CF\\uFF1A',\n\t                    data.pv,\n\t                    '\\xA0\\xA0\\xA0\\xA0 \\u53D1\\u5E03\\u65F6\\u95F4\\uFF1A',\n\t                    data.time ? data.time.minute : \"\"\n\t                ),\n\t                _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'main' },\n\t                    _react2.default.createElement('div', { className: 'cover-img', dangerouslySetInnerHTML: { __html: img } }),\n\t                    _react2.default.createElement('div', { className: 'content',\n\t                        dangerouslySetInnerHTML: { __html: data.content ? _markdown.markdown.toHTML(data.content) : '' } })\n\t                ),\n\t                _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'message-box' },\n\t                    messageItemTmp,\n\t                    _react2.default.createElement(\n\t                        'div',\n\t                        { className: 'send-message' },\n\t                        _react2.default.createElement('textarea', { name: 'message', id: '', cols: '30', rows: '5', placeholder: '\\u8BF4\\u70B9\\u4EC0\\u4E48\\u5462', ref: function ref(el) {\n\t                                _this2.message = el;\n\t                            } }),\n\t                        _react2.default.createElement(\n\t                            'div',\n\t                            { className: 'btn', onClick: function onClick() {\n\t                                    _this2.commentsSubmit();\n\t                                } },\n\t                            '\\u63D0\\u4EA4'\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return DetailsComponent;\n\t}(_react.Component);\n\t\n\tvar mapStateToProps = function mapStateToProps(state) {\n\t    return { details: state.container };\n\t};\n\tvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n\t    return {\n\t        actions: (0, _redux.bindActionCreators)(actions, dispatch)\n\t    };\n\t};\n\tvar Details = (0, _reactRedux.connect)(mapStateToProps, //只要 Redux store 发生改变，mapStateToProps 函数就会被调用。该回调函数必须返回一个纯对象，这个对象会与组件的 props 合并,如果你省略了这个参数，你的组件将不会监听 Redux store。如果指定了该回调函数中的第二个参数 ownProps，则该参数的值为传递到组件的 props，而且只要组件接收到新的 props，mapStateToProps 也会被调用\n\tmapDispatchToProps //如果传递的是一个对象，那么每个定义在该对象的函数都将被当作 Redux action creator，而且这个对象会与 Redux store 绑定在一起，其中所定义的方法名将作为属性名，合并到组件的 props 中。如果传递的是一个函数，该函数将接收一个 dispatch 函数，然后由你来决定如何返回一个对象，这个对象通过 dispatch 函数与 action creator 以某种方式绑定在一起（提示：你也许会用到 Redux 的辅助函数 bindActionCreators()）。如果你省略这个 mapDispatchToProps 参数，默认情况下，dispatch 会注入到你的组件 props 中。如果指定了该回调函数中第二个参数 ownProps，该参数的值为传递到组件的 props，而且只要组件接收到新 props，mapDispatchToProps 也会被调用。\n\t)(DetailsComponent);\n\t\n\tmodule.exports = Details;\n\n/***/ },\n\n/***/ 196:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(103)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".article-details{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.article-details .main{width:100%;margin-bottom:50px}.article-details .main .content{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.article-details .main .content>:nth-child(n){margin-bottom:20px}.article-details .main .content>pre{width:100%;padding:10px;border-radius:5px;background-color:#f6f6f6}.article-details .main .content>img{max-width:800px;max-height:600px;border:3px solid #e0dfcc;border-radius:5px}.article-details .message-box{position:relative;width:100%;border-top:1px solid #eee}.article-details .message-box .send-message{width:100%;margin-bottom:100px}.article-details .message-box .send-message>textarea{width:100%;padding:10px;border:1px solid #eee}.article-details .message-box .send-message .btn{position:absolute;right:0;cursor:pointer;padding:2px 10px;color:#fff;border-radius:3px;background-color:#24292e;-webkit-transition:all .2s linear 0s;transition:all .2s linear 0s}.article-details .message-box .send-message .btn:hover{background:#0077d9}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 207:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(196);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(178)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js?-autoprefixer&modules&importLoaders=1!../../node_modules/postcss-loader/index.js!../../node_modules/less-loader/index.js!./details.less\", function() {\n\t\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js?-autoprefixer&modules&importLoaders=1!../../node_modules/postcss-loader/index.js!../../node_modules/less-loader/index.js!./details.less\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// js/0.bundle.36438a006b0cc81eed7f.js",
    "import React, {Component} from \"react\"\nimport {render} from 'react-dom'\nimport {connect} from 'react-redux'\nimport {bindActionCreators} from 'redux'\nimport * as actions from '../actions/index'\nimport {markdown} from 'markdown'\nimport '../../css/details.less'\nconst MessageItem = ({data})=> {\n    return <div className=\"messageItem\">\n        <div className=\"messageAuthor\"><span className=\"author\">{data.name}：说</span></div>\n        <div className=\"messageContent\">{data.message}</div>\n        <div className=\"messageTime\"><span>{data.time}</span></div>\n    </div>\n}\nexport class DetailsComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.nameVlue = window.localStorage['commentInfo'] ? JSON.parse(window.localStorage['commentInfo']).name : ''\n        this.emailValue = window.localStorage['commentInfo'] ? JSON.parse(window.localStorage['commentInfo']).email : ''\n    }\n\n    componentDidMount() {\n        this.props.actions.ajaxData(\"details\", this.props.params)\n    }\n\n    commentsSubmit() {\n        let _alert = this.props.actions._alert,\n            nameVlue = this.name.value.trim(),\n            messageVlue = this.message.value.trim()\n        if (nameVlue.length < 2) {\n            _alert(\"姓名格式不正确\")\n            return\n        }\n        if (messageVlue.length == 0) {\n            _alert(\"留言内容不能为空\")\n            return\n        }\n\n        let data = \"name=\" + nameVlue + \"&email=\" + this.email.value + \"&message=\" + messageVlue\n        let json = {\"name\": this.name.value, \"email\": this.email.value}\n        window.localStorage['commentInfo'] = JSON.stringify(json)\n        this.props.actions.commentsSubmit(data, this.props.params)\n    }\n\n    render() {\n        let data = this.props.details;\n        let img = data.upload ? (\"<img src=\" + actions.requestAPI + data.upload + \" />\") : \"\"\n        let messageItemTmp = []\n        if (data.comments) {\n            for (let len = data.comments.length, i = len - 1; i >= 0; i--) {\n                messageItemTmp.push(<MessageItem key={i} data={data.comments[i]}/>)\n            }\n        } else {\n            messageItemTmp = \"暂无留言\"\n        }\n\n        return (\n            <div className=\"article-details\">\n                <h1>{data.title}</h1>\n                <div className=\"info\">作者：{data.name}&nbsp;&nbsp;&nbsp;&nbsp;阅读量：{data.pv}&nbsp;&nbsp;&nbsp;&nbsp;\n                    发布时间：{data.time ? data.time.minute : \"\"}</div>\n                <div className=\"main\">\n                    <div className=\"cover-img\" dangerouslySetInnerHTML={{__html:img}}></div>\n                    <div className=\"content\"\n                         dangerouslySetInnerHTML={{__html:data.content ? markdown.toHTML(data.content) : ''}}>\n                    </div>\n                </div>\n                <div className=\"message-box\">\n                    {messageItemTmp}\n                    <div className=\"send-message\">\n                        <textarea name=\"message\" id=\"\" cols=\"30\" rows=\"5\" placeholder=\"说点什么呢\" ref={el=>{this.message=el}}></textarea>\n                        <div className=\"btn\" onClick={()=>{this.commentsSubmit()}}>提交</div>\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state)=> {\n    return {details: state.container}\n}\nconst mapDispatchToProps = (dispatch)=> {\n    return {\n        actions: bindActionCreators(actions, dispatch),\n    }\n}\nconst Details = connect(\n    mapStateToProps,//只要 Redux store 发生改变，mapStateToProps 函数就会被调用。该回调函数必须返回一个纯对象，这个对象会与组件的 props 合并,如果你省略了这个参数，你的组件将不会监听 Redux store。如果指定了该回调函数中的第二个参数 ownProps，则该参数的值为传递到组件的 props，而且只要组件接收到新的 props，mapStateToProps 也会被调用\n    mapDispatchToProps//如果传递的是一个对象，那么每个定义在该对象的函数都将被当作 Redux action creator，而且这个对象会与 Redux store 绑定在一起，其中所定义的方法名将作为属性名，合并到组件的 props 中。如果传递的是一个函数，该函数将接收一个 dispatch 函数，然后由你来决定如何返回一个对象，这个对象通过 dispatch 函数与 action creator 以某种方式绑定在一起（提示：你也许会用到 Redux 的辅助函数 bindActionCreators()）。如果你省略这个 mapDispatchToProps 参数，默认情况下，dispatch 会注入到你的组件 props 中。如果指定了该回调函数中第二个参数 ownProps，该参数的值为传递到组件的 props，而且只要组件接收到新 props，mapDispatchToProps 也会被调用。\n)(DetailsComponent)\n\nmodule.exports = Details\n\n\n// WEBPACK FOOTER //\n// ./src/js/containers/Details.js",
    "exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".article-details{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.article-details .main{width:100%;margin-bottom:50px}.article-details .main .content{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.article-details .main .content>:nth-child(n){margin-bottom:20px}.article-details .main .content>pre{width:100%;padding:10px;border-radius:5px;background-color:#f6f6f6}.article-details .main .content>img{max-width:800px;max-height:600px;border:3px solid #e0dfcc;border-radius:5px}.article-details .message-box{position:relative;width:100%;border-top:1px solid #eee}.article-details .message-box .send-message{width:100%;margin-bottom:100px}.article-details .message-box .send-message>textarea{width:100%;padding:10px;border:1px solid #eee}.article-details .message-box .send-message .btn{position:absolute;right:0;cursor:pointer;padding:2px 10px;color:#fff;border-radius:3px;background-color:#24292e;-webkit-transition:all .2s linear 0s;transition:all .2s linear 0s}.article-details .message-box .send-message .btn:hover{background:#0077d9}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?-autoprefixer&modules&importLoaders=1!./~/postcss-loader!./~/less-loader!./src/css/details.less\n// module id = 196\n// module chunks = 0",
    "// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?-autoprefixer&modules&importLoaders=1!../../node_modules/postcss-loader/index.js!../../node_modules/less-loader/index.js!./details.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js?-autoprefixer&modules&importLoaders=1!../../node_modules/postcss-loader/index.js!../../node_modules/less-loader/index.js!./details.less\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js?-autoprefixer&modules&importLoaders=1!../../node_modules/postcss-loader/index.js!../../node_modules/less-loader/index.js!./details.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/details.less\n// module id = 207\n// module chunks = 0"
  ],
  "sourceRoot": ""
}